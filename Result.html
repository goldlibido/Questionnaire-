<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Your Results</title>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet">
  <style>
    body {
      margin: 0;
      font-family: 'Montserrat', sans-serif;
      color: white;
      text-align: center;
      padding: 50px 20px;
    }

    .title {
      font-size: 2.6rem;
      font-weight: bold;
      font-style: italic;
      line-height: 1.2;
      margin-bottom: 25px;
    }

    .subtitle {
      font-size: 1.2rem;
      font-weight: 400;
      margin-bottom: 30px;
    }

    .section {
      margin: 25px auto;
      max-width: 700px;
      font-size: 1.1rem;
      line-height: 1.6;
    }

    .red {
      background-color: #950606;
      text-shadow: 0 0 5px #ff4d4d, 0 0 10px #ff4d4d;
    }

    .green {
      background-color: #06954E;
      text-shadow: 0 0 5px #88e788, 0 0 10px #88e788;
    }

    .blue {
      background-color: #064D95;
      text-shadow: 0 0 5px #57b9ff, 0 0 10px #57b9ff;
    }

    #moreButton {
      display: inline-block;
      padding: 10px 18px;
      border: 2px solid white;
      color: white;
      background-color: transparent;
      border-radius: 8px;
      font-style: italic;
      font-weight: bold;
      font-size: 1rem;
      text-decoration: none;
      margin-top: 20px;
    }

    #typeDetails {
      margin-top: 20px;
      font-style: italic;
      font-size: 1rem;
      display: none;
    }

    a.profile-link {
      color: white;
      text-decoration: underline;
      font-weight: bold;
      font-size: 1.7rem;
    }
  </style>
</head>
<body id="resultBody">
  <div class="title" id="roomTitle">Meet your type in the ROOM</div>
  <div class="subtitle" id="archetypeText">Your Archetype</div>
  <div class="section" id="compatibilityText"></div>
  <div class="section" id="sugarText"></div>
  <div class="section" id="inviteText"></div>
  <div>
    <a id="moreButton" href="#">More about you</a>
  </div>
  <div id="typeDetails"></div>

  <script>
    const params = new URLSearchParams(window.location.search);
    const q3 = params.get("q3");
    const q4 = params.get("q4");
    const q5 = params.get("q5");
    const q6 = params.get("q6");
    const q9 = params.get("q9");
    const q8 = params.get("q8");

    const roomTitle = document.getElementById("roomTitle");
    const resultBody = document.getElementById("resultBody");
    const archetypeText = document.getElementById("archetypeText");
    const inviteText = document.getElementById("inviteText");
    const sugarText = document.getElementById("sugarText");
    const compatibilityText = document.getElementById("compatibilityText");

    let room = "";
    if (q3 === "whipped") {
      room = "blue";
      resultBody.classList.add("blue");
      roomTitle.innerText = "Meet your type in the\nBLUE ROOM";
    } else if (q3 === "toys") {
      room = "green";
      resultBody.classList.add("green");
      roomTitle.innerText = "Meet your type in the\nGREEN ROOM";
    } else if (q3 === "bdsm") {
      room = "red";
      resultBody.classList.add("red");
      roomTitle.innerText = "Meet your type in the\nRED ROOM";
    }

    const archetypes = {
      "blue-control": ["Tender Protector", "You lead with gravity, not volume."],
      "blue-partner control": ["Devoted Darling", "Nothing is as kinky as loyalty."],
      "blue-depends mood": ["Heatwave", "There's no need to change who you are..."],
      "blue-depends partner": ["Mood Multiplier", "You match their vibe‚Äîand raise it."],
      "green-control": ["Charmer in Charge", "You don‚Äôt just take control. You make them beg for it."],
      "green-partner control": ["Promiscuous Plaything", "Are you ready for a wild ride!"],
      "green-depends mood": ["Bedroom Adventurer", "I'm up for anything and down to get down and dirty."],
      "green-depends partner": ["Generous Giver", "You have so much to give, you just need someone to give it to."],
      "red-control": ["Dungeon Master", "You‚Äôre not just having a fantasy. You‚Äôre the one in charge of it."],
      "red-partner control": ["Claimed & Trained", "The deeper you give in the more pleasure you'll feel."],
      "red-depends mood": ["The Provoker", "You press buttons‚Äîon purpose."],
      "red-depends partner": ["The Punish Me", "What you call defiance, I call foreplay."]
    };

    const key = `${room}-${q9}`;
    const [typeName, slogan] = archetypes[key] || ["Unknown", ""];

    let safeName = typeName.toLowerCase().replace(/\s+/g, "_").replace(/[^a-z0-9_]/g, "");
    if (typeName === "Claimed & Trained") safeName = "claimed__trained";
    const profileSlug = safeName.replace(/__/g, "-");

    let imageHTML = "";
    if (typeName !== "Unknown" && (q8 === "eggplant" || q8 === "cat")) {
      const genderSuffix = q8 === "eggplant" ? "male" : "female";
      const imagePath = `images/${safeName}_${genderSuffix}.jpg`;

      imageHTML = `
        <a href="/profiles/${profileSlug}.html">
          <img src="${imagePath}" alt="${typeName} Image" style="
            max-width: 100%;
            height: auto;
            border-radius: 16px;
            margin: 15px 0;
            border: 4px solid gold;
            box-shadow: 0 0 8px rgba(255, 215, 0, 0.6);
            pointer-events: none;
            user-select: none;
          ">
        </a>
      `;
    }

    archetypeText.innerHTML = `
      <div style="text-decoration: underline; font-weight: normal; margin-bottom: 6px;">
        Your Sexual Profile:
      </div>
      <div style="margin-bottom: 8px;">
        <a href="/profiles/${profileSlug}.html" class="profile-link">${typeName}</a>
      </div>
      <div style="font-style: italic; margin-bottom: 12px;">
        ${slogan}
      </div>
      ${imageHTML}
    `;

    const matches = {
      "Devoted Darling": ["Tender Protector", "Heatwave", "Promiscuous Plaything"],
      "Mood Multiplier": ["Heatwave", "Tender Protector", "Bedroom Adventurer"],
      "Heatwave": ["Mood Multiplier", "Devoted Darling", "Generous Giver"],
      "Tender Protector": ["Devoted Darling", "Mood Multiplier", "Promiscuous Plaything"],
      "Promiscuous Plaything": ["Charmer in Charge", "Bedroom Adventurer", "Dungeon Master"],
      "Generous Giver": ["Bedroom Adventurer", "Charmer in Charge", "The Provoker"],
      "Bedroom Adventurer": ["Generous Giver", "Promiscuous Plaything", "The Punish Me"],
      "Charmer in Charge": ["Promiscuous Plaything", "Generous Giver", "Claimed & Trained"],
      "Claimed & Trained": ["Dungeon Master", "The Provoker", "Charmer in Charge"],
      "The Punish Me": ["The Provoker", "Claimed & Trained", "Bedroom Adventurer"],
      "The Provoker": ["The Punish Me", "Claimed & Trained", "Generous Giver"],
      "Dungeon Master": ["Claimed & Trained", "The Punish Me", "Promiscuous Plaything"]
    };

    if (matches[typeName]) {
      const [m1, m2, wild] = matches[typeName];
      compatibilityText.innerHTML = `
        <strong>Top 3 Compatibility Matches:</strong><br>
        1. ${m1}<br>
        2. ${m2}<br>
        3. Wildcard Match: ${wild}
      `;
    }

    if (q5 === "yes" || q5 === "maybe" || q5 === "iam") {
      sugarText.innerHTML = `üç´ Visit our chocolate shop and use the password: <strong>Sweet Spot!</strong><br>
        to gain entry to our Speakeasy:<br><strong>Sugar Daddy‚Äôs</strong>`;
    }

    if (q4 === "yes" || q4 === "little" || q6 === "flaunt" || q6 === "partner shine") {
      inviteText.innerHTML = `
        üé¨ You‚Äôre invited to audition for our <br>
        reality dating show!<br>
        To audition, play our speed dating game:<br>
        <strong>The Pickup Line!</strong><br>
        Once you‚Äôre in, you won‚Äôt want to pull out.
      `;
    }

    document.getElementById("moreButton").href = `/profiles/${profileSlug}.html`;
  </script>
</body>
</html>
