<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Your Sexual Profile</title>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet">
  <style>
    body {
      margin: 0;
      font-family: 'Montserrat', sans-serif;
      color: white;
      text-align: center;
      padding: 40px 20px;
    }

    .title {
      font-size: 2.4rem;
      font-weight: bold;
      font-style: italic;
      margin-bottom: 25px;
      color: white;
    }

    .subtitle {
      font-size: 1.4rem;
      font-weight: 600;
      color: #e1bf78;
      margin-bottom: 20px;
    }

    .section {
      margin: 20px auto;
      max-width: 720px;
      font-size: 1.2rem;
      line-height: 1.6;
    }

    .red {
      background-color: #950606;
      text-shadow: 0 0 5px #ff4d4d, 0 0 10px #ff4d4d;
    }

    .green {
      background-color: #06954E;
      text-shadow: 0 0 5px #88e788, 0 0 10px #88e788;
    }

    .blue {
      background-color: #064D95;
      text-shadow: 0 0 5px #57b9ff, 0 0 10px #57b9ff;
    }

    .gold {
      color: #e1bf78;
    }

    button {
      margin-top: 24px;
      padding: 12px 24px;
      font-weight: bold;
      font-size: 1rem;
      border: 2px solid #e1bf78;
      background-color: transparent;
      color: #e1bf78;
      font-style: italic;
      border-radius: 10px;
      cursor: pointer;
    }

    button:hover {
      background-color: rgba(255, 255, 255, 0.1);
    }

    .archetype-name {
      font-weight: bold;
      font-size: 2.2rem;
      margin-bottom: 12px;
      color: #e1bf78;
    }

    .slogan {
      font-style: italic;
      font-size: 1.1rem;
      margin-bottom: 12px;
    }

    img.archetype-image {
      display: block;
      margin: 30px auto 20px auto;
      max-width: 340px;
      width: 100%;
      height: auto;
      border: 4px solid #e1bf78;
      border-radius: 16px;
      box-shadow: 0 0 8px rgba(255, 215, 0, 0.6);
    }

    a {
      color: #e1bf78;
      text-decoration: underline;
      font-weight: bold;
    }

    @media (min-width: 1024px) {
      body {
        padding: 80px 40px;
        font-size: 22px;
      }

      .title {
        font-size: 4rem;
      }

      .subtitle {
        font-size: 2rem;
      }

      .archetype-name {
        font-size: 3rem;
      }

      .section {
        font-size: 1.6rem;
      }

      button {
        font-size: 1.2rem;
      }
    }
  </style>
</head>
<body id="resultBody">
  <!-- Logo -->
  <div style="margin-bottom: 30px;">
    <img src="https://raw.githubusercontent.com/goldlibido/Questionnaire-/refs/heads/main/golden-le-libido-logo.png"
         alt="golden-le-libido-logo"
         style="max-width: 120px; display: block; margin: 0 auto;" />
  </div>

  <!-- Date Now button -->
  <div style="margin-bottom: 30px;">
    <a href="/profile.html">
      <button style="background-color: #e1bf78; color: #950606; font-weight: bold;">
        DATE NOW
      </button>
    </a>
  </div>

  <!-- Title and Archetype Output -->
  <div class="title">Your sexual profile is:</div>
  <div class="subtitle" id="archetypeText">Loading...</div>

  <!-- Archetype Image + Slogan -->
  <div id="imageContainer"></div>
  <div class="section" id="sloganText"></div>

  <!-- Compatibility Matches -->
  <div class="section" id="compatibilityMatches"></div>

  <!-- Extra Link -->
  <div class="section" style="margin-top: 30px;">
    <a href="/archetype-gallery.html">See All Sexual Profiles</a>
  </div>
  <script>
  function escapeHTML(str) {
    return String(str || "").replace(/[&<>"']/g, (c) => ({
      '&': '&amp;',
      '<': '&lt;',
      '>': '&gt;',
      '"': '&quot;',
      "'": '&#39;',
    }[c]));
  }

  const params = new URLSearchParams(window.location.search);
  const answers = {};
  for (let i = 1; i <= 10; i++) {
    answers[`q${i}`] = params.get(`q${i}`);
  }

  const gender = answers.q8 === "🍆" ? "male" : "female";

  // Scores object
  const scores = {
    "Devoted Darling": 0,
    "Mood Multiplier": 0,
    "Heatwave": 0,
    "Tender Protector": 0,
    "Promiscuous Plaything": 0,
    "Generous Giver": 0,
    "Bedroom Adventurer": 0,
    "Charmer in Charge": 0,
    "Claimed & Trained": 0,
    "The Punish Me": 0,
    "The Provoker": 0,
    "Dungeon Master": 0,
  };

  // Mapping logic from your system
  const logicMap = {
    q1: {
      a: { "Devoted Darling": 3, "Generous Giver": 2, "Tender Protector": 2, "Mood Multiplier": 1 },
      b: { "Dungeon Master": 3, "Charmer in Charge": 2, "Bedroom Adventurer": 1 },
      c: { "The Punish Me": 3, "The Provoker": 2, "Claimed & Trained": 1 },
      d: { "Promiscuous Plaything": 3, "Mood Multiplier": 2, "Heatwave": 1 }
    },
    q2: {
      a: { "Devoted Darling": 3, "Promiscuous Plaything": 2, "Tender Protector": 1 },
      b: { "The Punish Me": 3, "The Provoker": 2, "Dungeon Master": 1 },
      c: { "Bedroom Adventurer": 3, "The Provoker": 2, "Tender Protector": 1 },
      d: { "Heatwave": 3, "The Provoker": 2, "Generous Giver": 1 },
      e: { "Promiscuous Plaything": 3, "Generous Giver": 2, "Mood Multiplier": 1 },
      f: { "Charmer in Charge": 3, "Bedroom Adventurer": 2, "Dungeon Master": 1 },
      g: { "Promiscuous Plaything": 3, "Generous Giver": 2, "The Punish Me": 1 }
    },
    q3: {
      a: { "Devoted Darling": 5, "Mood Multiplier": 5, "Tender Protector": 5, "Generous Giver": 5, "Heatwave": 5 },
      b: { "Promiscuous Plaything": 5, "Bedroom Adventurer": 5, "Charmer in Charge": 5, "Mood Multiplier": 5, "Generous Giver": 5 },
      c: { "Dungeon Master": 5, "Claimed & Trained": 5, "The Punish Me": 5, "The Provoker": 5 }
    },
    q4: {
      a: { "Devoted Darling": 3, "Mood Multiplier": 2, "Generous Giver": 1, "Tender Protector": 1 },
      b: { "The Punish Me": 3, "Bedroom Adventurer": 2, "Charmer in Charge": 1, "Heatwave": 1 },
      c: { "Dungeon Master": 3, "The Provoker": 2, "Charmer in Charge": 1 },
      d: { "Dungeon Master": 3, "Charmer in Charge": 2, "Tender Protector": 1 },
      e: { "Mood Multiplier": 2, "Claimed & Trained": 2, "The Provoker": 2, "Heatwave": 2, "Generous Giver": 1, "Promiscuous Plaything": 1 }
    },
    q5: {
      a: { "Promiscuous Plaything": 3, "The Punish Me": 1 },
      b: { "Bedroom Adventurer": 3, "Generous Giver": 2 },
      c: { "Devoted Darling": 3, "Tender Protector": 3, "Mood Multiplier": 3, "Heatwave": 3 },
      d: { "Dungeon Master": 3, "Charmer in Charge": 2, "The Provoker": 1, "Bedroom Adventurer": 1 }
    },
    q6: {
      a: { "Mood Multiplier": 3, "Bedroom Adventurer": 2, "Promiscuous Plaything": 1 },
      b: { "The Provoker": 3, "The Punish Me": 2, "Dungeon Master": 2, "Charmer in Charge": 1 },
      c: { "Devoted Darling": 3, "Tender Protector": 2, "Generous Giver": 1, "Mood Multiplier": 1 },
      d: { "Charmer in Charge": 3, "Promiscuous Plaything": 2, "Bedroom Adventurer": 2, "Claimed & Trained": 1, "Dungeon Master": 1 }
    },
    q7: {
      a: { "Devoted Darling": 3, "Tender Protector": 2, "Dungeon Master": 1 },
      b: { "Mood Multiplier": 3, "Generous Giver": 2, "Heatwave": 1 },
      c: { "Bedroom Adventurer": 3, "Promiscuous Plaything": 2, "Charmer in Charge": 1 },
      d: { "The Provoker": 3, "The Punish Me": 2, "Bedroom Adventurer": 1 }
    },
    q9: {
      a: { "Dungeon Master": 5, "Charmer in Charge": 5, "Tender Protector": 5 },
      b: { "Claimed & Trained": 5, "Devoted Darling": 5, "Promiscuous Plaything": 5 },
      c: { "The Provoker": 5, "Bedroom Adventurer": 5, "Generous Giver": 5 },
      d: { "Mood Multiplier": 5, "Generous Giver": 5, "The Punish Me": 5 }
    },
    q10: {
      a: { "Devoted Darling": 3, "Mood Multiplier": 3, "Tender Protector": 3, "Generous Giver": 3, "Heatwave": 3 },
      b: { "Charmer in Charge": 3, "Promiscuous Plaything": 2, "Tender Protector": 2, "Heatwave": 2, "Generous Giver": 1 },
      c: { "Claimed & Trained": 3, "Promiscuous Plaything": 3, "The Punish Me": 2 },
      d: { "Dungeon Master": 3, "Claimed & Trained": 3, "The Punish Me": 3, "The Provoker": 3 },
      e: { "Devoted Darling": 4, "Mood Multiplier": 4, "Tender Protector": 4, "Generous Giver": 4, "Heatwave": 4 }
    }
  };

  const choiceMap = {
    q1: ['a', 'b', 'c', 'd'],
    q2: ['a', 'b', 'c', 'd', 'e', 'f', 'g'],
    q3: ['a', 'b', 'c'],
    q4: ['a', 'b', 'c', 'd', 'e'],
    q5: ['a', 'b', 'c', 'd'],
    q6: ['a', 'b', 'c', 'd'],
    q7: ['a', 'b', 'c', 'd'],
    q9: ['a', 'b', 'c', 'd'],
    q10: ['a', 'b', 'c', 'd', 'e']
  };

  // Tally up scores
  for (let q in logicMap) {
    const userAnswer = answers[q];
    const answerKey = userAnswer?.trim().toLowerCase();
    if (answerKey && logicMap[q][answerKey]) {
      for (let archetype in logicMap[q][answerKey]) {
        scores[archetype] += logicMap[q][answerKey][archetype];
      }
    }
  }

  // Determine top result
  const sorted = Object.entries(scores).sort((a, b) => b[1] - a[1]);
  const [topType] = sorted[0];

  const imagePath = `images/${topType.toLowerCase().replace(/\s+/g, "_")}_${gender}.jpg`;
  const profileLink = `/premium/erotic-blueprint_${topType.toLowerCase().replace(/\s+/g, "_")}.html`;

  document.getElementById("archetypeText").innerHTML = `
    <span class="archetype-name" style="color: #e1bf78;">${escapeHTML(topType)}</span>
  `;

  document.getElementById("sloganText").innerHTML = `
    <a href="${profileLink}">
      <img src="${imagePath}" class="no-save" alt="${escapeHTML(topType)}" />
    </a>
    <div class="profile-caption">
      <a href="${profileLink}" class="no-underline" style="color: #e1bf78; font-weight: bold;">
        Click here to reveal your full sexual profile
      </a>
    </div>
  `;

  const compatible = {
    "Devoted Darling": ["Tender Protector", "Heatwave", "Promiscuous Plaything"],
    "Mood Multiplier": ["Heatwave", "Tender Protector", "Bedroom Adventurer"],
    "Heatwave": ["Mood Multiplier", "Devoted Darling", "Generous Giver"],
    "Tender Protector": ["Devoted Darling", "Mood Multiplier", "Promiscuous Plaything"],
    "Promiscuous Plaything": ["Charmer in Charge", "Bedroom Adventurer", "Dungeon Master"],
    "Generous Giver": ["Bedroom Adventurer", "Charmer in Charge", "The Provoker"],
    "Bedroom Adventurer": ["Generous Giver", "Promiscuous Plaything", "The Punish Me"],
    "Charmer in Charge": ["Promiscuous Plaything", "Generous Giver", "Claimed & Trained"],
    "Claimed & Trained": ["Dungeon Master", "The Provoker", "Charmer in Charge"],
    "The Punish Me": ["The Provoker", "Claimed & Trained", "Bedroom Adventurer"],
    "The Provoker": ["The Punish Me", "Claimed & Trained", "Generous Giver"],
    "Dungeon Master": ["Claimed & Trained", "The Punish Me", "Promiscuous Plaything"]
  };

  const matches = compatible[topType] || [];
  document.getElementById("compatibilityMatches").innerHTML = `
    <strong>Top Compatibility Matches:</strong><br>
    1. <a href="/premium/erotic-blueprint_${matches[0]?.toLowerCase().replace(/\s+/g, "_")}.html">${matches[0]}</a><br>
    2. <a href="/premium/erotic-blueprint_${matches[1]?.toLowerCase().replace(/\s+/g, "_")}.html">${matches[1]}</a><br>
    3. <a href="/premium/erotic-blueprint_${matches[2]?.toLowerCase().replace(/\s+/g, "_")}.html">${matches[2]}</a>
  `;

  // Change background color based on type
  const red = ["Claimed & Trained", "The Punish Me", "The Provoker", "Dungeon Master"];
  const green = ["Promiscuous Plaything", "Generous Giver", "Bedroom Adventurer", "Charmer in Charge"];
  const blue = ["Devoted Darling", "Mood Multiplier", "Heatwave", "Tender Protector"];

  if (red.includes(topType)) document.body.style.backgroundColor = "#950606";
  if (green.includes(topType)) document.body.style.backgroundColor = "#06954E";
  if (blue.includes(topType)) document.body.style.backgroundColor = "#064D95";
</script>
  <div style="margin-top: 30px;">
    <a href="/archetype-gallery.html">
      <button style="
        font-size: 1.2rem;
        padding: 14px 28px;
        border: 2px solid #e1bf78;
        border-radius: 10px;
        background-color: transparent;
        color: #e1bf78;
        font-weight: bold;
        font-style: italic;
        cursor: pointer;
      ">
        See All Sexual Profiles
      </button>
    </a>
  </div>

  <div style="margin-top: 20px;">
    <button onclick="shareResult()" style="
      font-size: 1.2rem;
      padding: 14px 28px;
      border: 2px solid #e1bf78;
      border-radius: 10px;
      background-color: #e1bf78;
      color: #000;
      font-weight: bold;
      font-style: italic;
      cursor: pointer;
    ">
      Share Your Result
    </button>
  </div>

  <script>
    function shareResult() {
      const url = window.location.href;
      const dummy = document.createElement('input');
      document.body.appendChild(dummy);
      dummy.value = url;
      dummy.select();
      document.execCommand('copy');
      document.body.removeChild(dummy);
      alert("Link copied to clipboard! Share your result.");
    }
  </script>

  <footer style="text-align: center; margin-top: 60px;">
    <p style="font-size: 0.8rem; color: white; opacity: 0.7;">
      © 2025 Le Libido. All rights reserved. |
      <a href="/legal.html" style="color: #e1bf78; text-decoration: underline;">Legal Notice</a>
    </p>
  </footer>
</body>
</html>
