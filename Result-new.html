<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Your Results</title>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet">
  <style>
    body {
      margin: 0;
      font-family: 'Montserrat', sans-serif;
      color: white;
      text-align: center;
      padding: 50px 20px;
      background-color: #000;
    }

    .title {
      font-size: 2.6rem;
      font-weight: bold;
      font-style: italic;
      line-height: 1.2;
      margin-bottom: 25px;
    }

    .subtitle {
      font-size: 1.2rem;
      font-weight: 400;
      margin-bottom: 30px;
    }

    .section {
      margin: 25px auto;
      max-width: 700px;
      font-size: 1.1rem;
      line-height: 1.6;
    }

    .red {
      background-color: #950606;
      text-shadow: 0 0 5px #ff4d4d, 0 0 10px #ff4d4d;
    }

    .green {
      background-color: #06954E;
      text-shadow: 0 0 5px #88e788, 0 0 10px #88e788;
    }

    .blue {
      background-color: #064D95;
      text-shadow: 0 0 5px #57b9ff, 0 0 10px #57b9ff;
    }

    button {
      margin: 12px;
      padding: 12px 22px;
      font-weight: bold;
      font-size: 1rem;
      border: 2px solid #e1bf78;
      background-color: transparent;
      color: #e1bf78;
      font-style: italic;
      border-radius: 10px;
      cursor: pointer;
    }

    button:hover {
      background-color: rgba(225, 191, 120, 0.1);
    }

    #typeDetails {
      margin-top: 20px;
      font-style: italic;
      font-size: 1rem;
      display: none;
    }

    .archetype-name {
      font-weight: bold;
      font-size: 2rem;
      margin-bottom: 12px;
      color: #e1bf78;
    }

    img.no-save {
      user-select: none;
      display: block;
      margin: 0 auto 30px auto;
      max-width: 320px;
      width: 100%;
      height: auto;
      border: 4px solid #e1bf78;
      border-radius: 16px;
      box-shadow: 0 0 8px rgba(255, 215, 0, 0.5);
    }

    .profile-caption a {
      color: #e1bf78;
      font-weight: bold;
      text-decoration: underline;
    }

    .compat-links a {
      color: #e1bf78;
      font-weight: bold;
      text-decoration: underline;
    }

    .btn-container {
      display: flex;
      justify-content: space-between;
      padding: 30px;
    }

    .btn-left { text-align: left; }
    .btn-right { text-align: right; }

    @media (min-width: 1024px) {
      .archetype-name {
        font-size: 3.2rem;
      }

      body {
        padding: 80px 40px;
        font-size: 22px;
      }

      .section {
        font-size: 1.8rem;
        max-width: 1000px;
      }

      .profile-caption {
        font-size: 1.4rem;
        margin-top: 16px;
      }

      button {
        font-size: 1.4rem;
        padding: 16px 30px;
      }
    }
  </style>
</head>
<body id="resultBody">
  <div class="title" id="roomTitle">Meet your type</div>
  <div class="subtitle" id="archetypeText">Your Archetype</div>
  <div class="section" id="compatibilityText" class="compat-links"></div>

  <div class="profile-caption">
    <a id="profileLink" href="#">Click here to reveal your full sexual profile</a>
  </div>

  <div style="margin: 20px;">
    <button onclick="copyShareURL()">Share Your Result</button>
  </div>

  <div class="btn-container">
    <div class="btn-left">
      <a href="/anonymous-signin.html"><button>Sign In Anonymously</button></a>
    </div>
    <div class="btn-right">
      <a href="/verified-signin.html"><button>Verified Sign-In</button></a>
    </div>
  </div>

  <footer style="text-align: center; margin-top: 40px;">
    <p style="font-size: 0.8rem; color: white; opacity: 0.7;">
      Â© 2025 Le Libido. All rights reserved. |
      <a href="/legal.html" style="color: gold; text-decoration: underline;">Legal Notice</a>
    </p>
  </footer>

<script>
  function escapeHTML(str) {
    return String(str || "").replace(/[&<>"']/g, (c) => ({
      '&': '&amp;',
      '<': '&lt;',
      '>': '&gt;',
      '"': '&quot;',
      "'": '&#39;',
    }[c]));
  }

  function copyShareURL() {
    navigator.clipboard.writeText(window.location.href).then(() => {
      alert("Link copied to clipboard! Share away.");
    });
  }

  const params = new URLSearchParams(window.location.search);
  const archetype = params.get("type") || "Unknown";
  const gender = params.get("q8") === "eggplant" ? "male" : "female";
  const lowerSafe = archetype.toLowerCase().replace(/[\s&]+/g, "_");
  const imgPath = `images/${lowerSafe}_${gender}.jpg`;
  const profilePath = `/premium/erotic-blueprint_${lowerSafe}.html`;

  document.querySelector(".archetype-name").textContent = archetype;
  document.getElementById("archetypeText").innerHTML = `
    <div style="text-decoration: underline; font-weight: normal; margin-bottom: 6px;">
      Your Sexual Profile:
    </div>
    <div class="archetype-name">${archetype}</div>
    <img src="${imgPath}" class="no-save">
  `;
  document.getElementById("profileLink").href = profilePath;

  const matches = {
    "Devoted Darling": ["Tender Protector", "Heatwave", "Promiscuous Plaything"],
    "Mood Multiplier": ["Heatwave", "Tender Protector", "Bedroom Adventurer"],
    "Heatwave": ["Mood Multiplier", "Devoted Darling", "Generous Giver"],
    "Tender Protector": ["Devoted Darling", "Mood Multiplier", "Promiscuous Plaything"],
    "Promiscuous Plaything": ["Charmer in Charge", "Bedroom Adventurer", "Dungeon Master"],
    "Generous Giver": ["Bedroom Adventurer", "Charmer in Charge", "Provoker"],
    "Bedroom Adventurer": ["Generous Giver", "Promiscuous Plaything", "Punish Me"],
    "Charmer in Charge": ["Promiscuous Plaything", "Generous Giver", "Claimed & Trained"],
    "Claimed & Trained": ["Dungeon Master", "Provoker", "Charmer in Charge"],
    "Punish Me": ["Provoker", "Claimed & Trained", "Bedroom Adventurer"],
    "Provoker": ["Punish Me", "Claimed & Trained", "Generous Giver"],
    "Dungeon Master": ["Claimed & Trained", "Punish Me", "Promiscuous Plaything"]
  };

  if (matches[archetype]) {
    const [m1, m2, m3] = matches[archetype];
    document.getElementById("compatibilityText").innerHTML = `
      <div class="compat-links">
        <strong>Top 3 Compatibility Matches:</strong><br>
        ðŸ¥‡ <a href="/premium/erotic-blueprint_${m1.toLowerCase().replace(/[\s&]+/g, "_")}.html">${m1}</a><br>
        ðŸ¥ˆ <a href="/premium/erotic-blueprint_${m2.toLowerCase().replace(/[\s&]+/g, "_")}.html">${m2}</a><br>
        ðŸ¥‰ <a href="/premium/erotic-blueprint_${m3.toLowerCase().replace(/[\s&]+/g, "_")}.html">${m3}</a>
      </div>
    `;
  }
</script>
</body>
</html>
